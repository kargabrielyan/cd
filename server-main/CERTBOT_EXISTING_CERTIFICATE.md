# üîí Certbot: –†–∞–±–æ—Ç–∞ —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–º

**–°–∏—Ç—É–∞—Ü–∏—è:** Certbot –æ–±–Ω–∞—Ä—É–∂–∏–ª —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –¥–ª—è –¥–æ–º–µ–Ω–∞

---

## ‚úÖ –ß—Ç–æ –≤—ã–±—Ä–∞—Ç—å –≤ Certbot

–ö–æ–≥–¥–∞ Certbot —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç:
```
What would you like to do?
1: Attempt to reinstall this existing certificate
2: Renew & replace the certificate (may be subject to CA rate limits)
```

### –í—ã–±–µ—Ä–∏ –≤–∞—Ä–∏–∞–Ω—Ç 1 (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

**–ü–æ—á–µ–º—É –≤–∞—Ä–∏–∞–Ω—Ç 1:**
- ‚úÖ –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –¥–ª—è Nginx
- ‚úÖ –ù–µ —Å–æ–∑–¥–∞—Å—Ç –Ω–æ–≤—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (—ç–∫–æ–Ω–æ–º–∏—Ç –ª–∏–º–∏—Ç—ã Let's Encrypt)
- ‚úÖ –ë—ã—Å—Ç—Ä–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Nginx
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ –∏ –Ω–∞–¥–µ–∂–Ω–æ

**–ö–æ–≥–¥–∞ –≤—ã–±—Ä–∞—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç 2:**
- –ï—Å–ª–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç —É—Å—Ç–∞—Ä–µ–ª –∏–ª–∏ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω
- –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
- –ï—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å —Ç–µ–∫—É—â–∏–º —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–º

---

## üìã –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

### –®–∞–≥ 1: –í—ã–±—Ä–∞—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç 1

–í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:
```
1
```
–ù–∞–∂–º–∏ `Enter`

### –®–∞–≥ 2: Certbot –Ω–∞—Å—Ç—Ä–æ–∏—Ç Nginx –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

Certbot –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –ù–∞–π–¥–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
- –û–±–Ω–æ–≤–∏—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Nginx
- –ù–∞—Å—Ç—Ä–æ–∏—Ç HTTPS
- –ù–∞—Å—Ç—Ä–æ–∏—Ç —Ä–µ–¥–∏—Ä–µ–∫—Ç —Å HTTP –Ω–∞ HTTPS

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
certbot certificates

# 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Nginx
nginx -t

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å HTTPS
curl -I https://centraldispatch.id

# 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ
# –û—Ç–∫—Ä–æ–π: https://centraldispatch.id
```

---

## üîÑ –ï—Å–ª–∏ –≤—ã–±—Ä–∞–ª –≤–∞—Ä–∏–∞–Ω—Ç 2

–ï—Å–ª–∏ –≤—ã–±—Ä–∞–ª –≤–∞—Ä–∏–∞–Ω—Ç 2 (–æ–±–Ω–æ–≤–∏—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç):

```bash
# Certbot —Å–æ–∑–¥–∞—Å—Ç –Ω–æ–≤—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
# –≠—Ç–æ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –Ω–µ–º–Ω–æ–≥–æ –±–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏
# –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä—å:

certbot certificates
nginx -t
systemctl reload nginx
curl -I https://centraldispatch.id
```

---

## ‚ö†Ô∏è –ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã

### –ü—Ä–æ–±–ª–µ–º–∞: Certbot –Ω–µ –º–æ–∂–µ—Ç –Ω–∞–π—Ç–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
certbot certificates

# –ï—Å–ª–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –µ—Å—Ç—å, –Ω–æ Certbot –µ–≥–æ –Ω–µ –≤–∏–¥–∏—Ç
# –ú–æ–∂–Ω–æ –≤—Ä—É—á–Ω—É—é —É–∫–∞–∑–∞—Ç—å –ø—É—Ç—å
ls -la /etc/letsencrypt/live/centraldispatch.id/
```

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∞ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
tail -50 /var/log/letsencrypt/letsencrypt.log

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Nginx
nginx -t

# –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞ —Å —Ñ–ª–∞–≥–æ–º --force-renewal
certbot --nginx -d centraldispatch.id --force-renewal
```

---

## ‚úÖ –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏

```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ HTTPS —Ä–∞–±–æ—Ç–∞–µ—Ç
curl -I https://centraldispatch.id

# 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ HTTP —Ä–µ–¥–∏—Ä–µ–∫—Ç–∏—Ç –Ω–∞ HTTPS
curl -I http://centraldispatch.id

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
cat /etc/nginx/sites-available/centraldispatch.id | grep -A 5 "listen 443"

# 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ
# –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–µ–ª–µ–Ω—ã–π –∑–∞–º–æ—á–µ–∫
```

---

**–í–∞–∂–Ω–æ:** –í—ã–±–µ—Ä–∏ –≤–∞—Ä–∏–∞–Ω—Ç 1, –µ—Å–ª–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç. –≠—Ç–æ —Å–∞–º—ã–π –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –∏ –±—ã—Å—Ç—Ä—ã–π —Å–ø–æ—Å–æ–±!






