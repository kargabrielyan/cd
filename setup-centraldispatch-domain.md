# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—é –¥–æ–º–µ–Ω–∞ centraldispatch.id

## –®–∞–≥ 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ DNS –≤ Hostinger

1. –í–æ–π–¥–∏—Ç–µ –≤ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è Hostinger
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª DNS –¥–ª—è –¥–æ–º–µ–Ω–∞ `centraldispatch.id`
3. –î–æ–±–∞–≤—å—Ç–µ/–∏–∑–º–µ–Ω–∏—Ç–µ A –∑–∞–ø–∏—Å–∏:
   - **–ò–º—è/–•–æ—Å—Ç**: `@` (–∏–ª–∏ –æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º)
     **–¢–∏–ø**: `A`
     **–ó–Ω–∞—á–µ–Ω–∏–µ/Points to**: `72.60.31.149`
     **TTL**: `3600` (–∏–ª–∏ Auto)
   
   - **–ò–º—è/–•–æ—Å—Ç**: `www`
     **–¢–∏–ø**: `A`
     **–ó–Ω–∞—á–µ–Ω–∏–µ/Points to**: `72.60.31.149`
     **TTL**: `3600` (–∏–ª–∏ Auto)

4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

**–í–∞–∂–Ω–æ:** –ò–∑–º–µ–Ω–µ–Ω–∏—è DNS –º–æ–≥—É—Ç –∑–∞–Ω—è—Ç—å –æ—Ç 10 –º–∏–Ω—É—Ç –¥–æ 24 —á–∞—Å–æ–≤. –û–±—ã—á–Ω–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ 10-30 –º–∏–Ω—É—Ç.

## –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ DNS

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ DNS –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

```bash
dig +short centraldispatch.id A
dig +short www.centraldispatch.id A
```

–û–±–∞ –¥–æ–ª–∂–Ω—ã –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å: `72.60.31.149`

## –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ OpenLiteSpeed

> üìñ **–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:** –°–º. —Ñ–∞–π–ª `–®–ê–ì2-–®–ê–ì3-–ù–ê–°–¢–†–û–ô–ö–ê.md` –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω—ã—Ö —à–∞–≥–æ–≤ —Å –ø–æ—è—Å–Ω–µ–Ω–∏—è–º–∏.

### –ö—Ä–∞—Ç–∫–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:

1. –û—Ç–∫—Ä–æ–π—Ç–µ: `http://72.60.31.149:7080` –∏–ª–∏ `https://72.60.31.149:7080`
   - –õ–æ–≥–∏–Ω: `admin`
   - –ü–∞—Ä–æ–ª—å: `TvudbthE4GCN7H6H`
   
   **–í–∞–∂–Ω–æ:** –ü–æ—Ä—Ç 7080 –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç–∫—Ä—ã—Ç –≤ firewall (—É–∂–µ –æ—Ç–∫—Ä—ã—Ç)

2. Configuration ‚Üí Virtual Hosts ‚Üí Add
   - **Virtual Host Name** *: `CentralDispatch`
   - **Virtual Host Root** *: `$SERVER_ROOT/conf/vhosts/CentralDispatch/`
   - **Config File** *: `conf/vhosts/CentralDispatch/vhost.conf`
   - **Notes**: `CentralDispatch Domain` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
   - **Follow Symbolic Link**: `Yes` (–≤—ã–±–µ—Ä–∏—Ç–µ –∏–∑ –≤—ã–ø–∞–¥–∞—é—â–µ–≥–æ —Å–ø–∏—Å–∫–∞)
   - **Enable Scripts/ExtApps** *: –≤—ã–±–µ—Ä–∏—Ç–µ `Yes` (—Ä–∞–¥–∏–æ –∫–Ω–æ–ø–∫–∞)
   - **Restrained** *: –≤—ã–±–µ—Ä–∏—Ç–µ `Yes` (—Ä–∞–¥–∏–æ –∫–Ω–æ–ø–∫–∞)
   - –ù–∞–∂–º–∏—Ç–µ **Save**

3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Script Handler –¥–ª—è –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ Next.js:
   - Virtual Hosts ‚Üí `CentralDispatch` ‚Üí Script Handler ‚Üí Add
   - **Suffixes**: –æ—Å—Ç–∞–≤—å—Ç–µ **–ø—É—Å—Ç—ã–º** (—ç—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –≤—Å–µ —Ç–∏–ø—ã —Ñ–∞–π–ª–æ–≤)
     *(–í–∞–∂–Ω–æ: –ø–æ–ª–µ Suffixes –Ω–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Å–∏–º–≤–æ–ª `*`. –û—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤)*
   - **Type**: –≤—ã–±–µ—Ä–∏—Ç–µ `Web Server` –∏–∑ –≤—ã–ø–∞–¥–∞—é—â–µ–≥–æ —Å–ø–∏—Å–∫–∞
   - **Handler Name** *: `proxy-nodejs` (–≤–≤–µ–¥–∏—Ç–µ –ª—é–±–æ–µ –∏–º—è –≤—Ä—É—á–Ω—É—é)
   - **Replace With**: `http://127.0.0.1:3000$REQUEST_URI`
   - –ù–∞–∂–º–∏—Ç–µ **Save**
   
   **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ —á–µ—Ä–µ–∑ Context (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –µ—Å–ª–∏ Script Handler –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç):**
   - Virtual Hosts ‚Üí `CentralDispatch` ‚Üí Contexts ‚Üí Add
   - **URI**: `/` (–∫–æ—Ä–Ω–µ–≤–æ–π –ø—É—Ç—å)
   - **Type**: –≤—ã–±–µ—Ä–∏—Ç–µ `Web Server`
   - **Handler Name** *: –≤–≤–µ–¥–∏—Ç–µ –≤—Ä—É—á–Ω—É—é `proxy-nodejs` (–¥–∞–∂–µ –µ—Å–ª–∏ —Å–ø–∏—Å–æ–∫ –ø—É—Å—Ç–æ–π)
   - –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–ª–µ **Handler** (–µ—Å–ª–∏ –µ—Å—Ç—å): `http://127.0.0.1:3000`
   - –ù–∞–∂–º–∏—Ç–µ **Save**
   
   **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** Script Handler —Å –ø—É—Å—Ç—ã–º Suffixes –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∏ –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç –∏—Ö –Ω–∞ Next.js.

4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –º–∞–ø–ø–∏–Ω–≥ –¥–æ–º–µ–Ω–∞:
   - Configuration ‚Üí Listeners ‚Üí Default ‚Üí View ‚Üí Edit
   - –í —Ä–∞–∑–¥–µ–ª–µ **Virtual Host Mappings**:
     - –£–¥–∞–ª–∏—Ç–µ –∏–ª–∏ –æ—Å—Ç–∞–≤—å—Ç–µ `Example *` (–¥–ª—è –¥—Ä—É–≥–∏—Ö –¥–æ–º–µ–Ω–æ–≤)
     - –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤–æ–µ –º–∞–ø–ø–∏—Ä–æ–≤–∞–Ω–∏–µ:
       - **Virtual Host**: `CentralDispatch`
       - **Domains**: `centraldispatch.id, www.centraldispatch.id`
   - –ù–∞–∂–º–∏—Ç–µ **Save**

5. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ **Graceful Restart** (–∫–Ω–æ–ø–∫–∞ –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏)

## –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSL (–ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ DNS)

> üìñ **–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:** –°–º. —Ñ–∞–π–ª `–®–ê–ì2-–®–ê–ì3-–ù–ê–°–¢–†–û–ô–ö–ê.md` —Ä–∞–∑–¥–µ–ª "–®–ê–ì 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSL (HTTPS)".

### –ö—Ä–∞—Ç–∫–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Next.js –∑–∞–ø—É—â–µ–Ω –∏ —Å–∞–π—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ HTTP
2. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
```bash
ssh centraldispatch
mkdir -p /root/centraldispatch/public
certbot certonly --webroot -w /root/centraldispatch/public -d centraldispatch.id -d www.centraldispatch.id --non-interactive --agree-tos --email admin@centraldispatch.id
```

3. –í OpenLiteSpeed –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏:
   - Virtual Hosts ‚Üí `CentralDispatch` ‚Üí SSL
   - –í–∫–ª—é—á–∏—Ç–µ SSL
   - **Private Key File**: `/etc/letsencrypt/live/centraldispatch.id/privkey.pem`
   - **Certificate File**: `/etc/letsencrypt/live/centraldispatch.id/fullchain.pem`
   - **CA Certificate File**: `/etc/letsencrypt/live/centraldispatch.id/chain.pem`
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ Graceful Restart

## –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ –≤—Å–µ—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫:
- http://centraldispatch.id - –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å
- https://centraldispatch.id - –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å —Å SSL

