# ‚úÖ –ü—Ä–æ–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä 31.97.214.136

## üìã –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω NVM (Node Version Manager)
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Node.js v20.19.6
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω PM2 (Process Manager)
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Nginx (–≤–µ–±-—Å–µ—Ä–≤–µ—Ä)

### 2. –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ –ö–æ–¥ –∑–∞–≥—Ä—É–∂–µ–Ω —á–µ—Ä–µ–∑ Git –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è: `https://github.com/kargabrielyan/cd.git`
- ‚úÖ –ü—Ä–æ–µ–∫—Ç —Ä–∞–∑–º–µ—â–µ–Ω –≤: `/var/www/centraldispatch.id`
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: `npm install`
- ‚úÖ –ü—Ä–æ–µ–∫—Ç —Å–æ–±—Ä–∞–Ω: `npm run build`

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- ‚úÖ –°–æ–∑–¥–∞–Ω `ecosystem.config.js` —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ —á–µ—Ä–µ–∑ PM2
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ PM2 –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ —Å–µ—Ä–≤–µ—Ä–∞

### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –¥–æ–º–µ–Ω–∞: `centralldispatch.id`
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –ø–æ—Ä—Ç 3000
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –∑–∞–≥–æ–ª–æ–≤–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### 5. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram
- ‚úÖ Webhook –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞: `https://centralldispatch.id/api/telegram/webhook`
- ‚úÖ Bot Token: `8569212803:AAGDp_ETyyHqs_V_h2WChU184I_mGOkrJDs`
- ‚úÖ Chat ID: `5257327001`

## üåê –î–æ—Å—Ç—É–ø –∫ —Å–∞–π—Ç—É

### –ü–æ IP –∞–¥—Ä–µ—Å—É
```
http://31.97.214.136
```

### –ü–æ –¥–æ–º–µ–Ω—É (–∫–æ–≥–¥–∞ DNS –Ω–∞—Å—Ç—Ä–æ–µ–Ω)
```
http://centralldispatch.id
https://centralldispatch.id (–ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ SSL)
```

## üîß –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
```bash
ssh root@31.97.214.136 "export NVM_DIR=\"\$HOME/.nvm\" && [ -s \"\$NVM_DIR/nvm.sh\" ] && . \"\$NVM_DIR/nvm.sh\" && pm2 status"
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
```bash
ssh root@31.97.214.136 "export NVM_DIR=\"\$HOME/.nvm\" && [ -s \"\$NVM_DIR/nvm.sh\" ] && . \"\$NVM_DIR/nvm.sh\" && pm2 logs centraldispatch-nextjs"
```

### –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```bash
ssh root@31.97.214.136 "export NVM_DIR=\"\$HOME/.nvm\" && [ -s \"\$NVM_DIR/nvm.sh\" ] && . \"\$NVM_DIR/nvm.sh\" && pm2 restart centraldispatch-nextjs"
```

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```bash
ssh root@31.97.214.136 "export NVM_DIR=\"\$HOME/.nvm\" && [ -s \"\$NVM_DIR/nvm.sh\" ] && . \"\$NVM_DIR/nvm.sh\" && pm2 stop centraldispatch-nextjs"
```

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞

–î–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ–¥–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
# 1. –ó–∞–∫–æ–º–º–∏—Ç–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –ª–æ–∫–∞–ª—å–Ω–æ
git add .
git commit -m "Update description"
git push origin main

# 2. –û–±–Ω–æ–≤–∏—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
ssh root@31.97.214.136 "export NVM_DIR=\"\$HOME/.nvm\" && [ -s \"\$NVM_DIR/nvm.sh\" ] && . \"\$NVM_DIR/nvm.sh\" && cd /var/www/centraldispatch.id && git pull origin main && npm install && rm -rf .next && npm run build && pm2 restart centraldispatch-nextjs --update-env && pm2 save && echo '‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ!'"
```

## üîê –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSL (—Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥)

–î–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Certbot:

```bash
ssh root@31.97.214.136 "apt install -y certbot python3-certbot-nginx && certbot --nginx -d centralldispatch.id -d www.centralldispatch.id"
```

**–í–∞–∂–Ω–æ:** DNS –¥–æ–º–µ–Ω–∞ `centralldispatch.id` –¥–æ–ª–∂–µ–Ω —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ IP `31.97.214.136`

## üìä –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

- **–°–µ—Ä–≤–µ—Ä**: 31.97.214.136
- **–ü–æ—Ä—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**: 3000
- **–ü–æ—Ä—Ç Nginx**: 80 (HTTP)
- **–°—Ç–∞—Ç—É—Å PM2**: ‚úÖ Online
- **–°—Ç–∞—Ç—É—Å Nginx**: ‚úÖ Active
- **Telegram Webhook**: ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω

## üéâ –ß—Ç–æ –¥–∞–ª—å—à–µ?

1. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å DNS** - —É–∫–∞–∂–∏—Ç–µ A-–∑–∞–ø–∏—Å—å –¥–æ–º–µ–Ω–∞ `centralldispatch.id` –Ω–∞ IP `31.97.214.136`
2. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å SSL** - –ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ DNS —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç —á–µ—Ä–µ–∑ Certbot
3. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª** - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É –≤—Ö–æ–¥–∞ –∏ Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

## üìù –í–∞–∂–Ω—ã–µ —Ñ–∞–π–ª—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

- –ü—Ä–æ–µ–∫—Ç: `/var/www/centraldispatch.id`
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è PM2: `/var/www/centraldispatch.id/ecosystem.config.js`
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Nginx: `/etc/nginx/sites-available/centralldispatch.id`
- –õ–æ–≥–∏ PM2: `/var/www/centraldispatch.id/logs/`
- –õ–æ–≥–∏ Nginx: `/var/log/nginx/centralldispatch-*.log`

## üÜò –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ PM2
```bash
ssh root@31.97.214.136 "export NVM_DIR=\"\$HOME/.nvm\" && [ -s \"\$NVM_DIR/nvm.sh\" ] && . \"\$NVM_DIR/nvm.sh\" && pm2 logs centraldispatch-nextjs --lines 50"
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ Nginx
```bash
ssh root@31.97.214.136 "tail -50 /var/log/nginx/centralldispatch-error.log"
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å Nginx
```bash
ssh root@31.97.214.136 "systemctl status nginx"
```

### –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ
```bash
ssh root@31.97.214.136 "export NVM_DIR=\"\$HOME/.nvm\" && [ -s \"\$NVM_DIR/nvm.sh\" ] && . \"\$NVM_DIR/nvm.sh\" && pm2 restart centraldispatch-nextjs && systemctl restart nginx"
```

---

**–î–∞—Ç–∞ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è**: 26 –Ω–æ—è–±—Ä—è 2025
**–î–æ–º–µ–Ω**: http://centralldispatch.id (—Å –¥–≤—É–º—è "l")
**IP**: 31.97.214.136

